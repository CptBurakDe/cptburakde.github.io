<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Burak Demirci â€“ Oceangoing Watchkeeping Officer</title>
<style>
/* UPDATED: improved palettes, interactive hovers, print spacing fixes */

:root {
  --base-font: 9pt;
  --scale: 1;
  --card-pad-vertical: 8mm;
  --card-pad-horizontal: 10mm;
  --accent: #0b6fbf;
  --muted: #666;
  --border: #e1e1e1;
  --shadow: rgba(0,0,0,0.12);
  --transition: 140ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* ============ LIGHT THEME (refined) ============ */
body.theme-default {
  --bg: #f8fafb;
  --card-bg: #ffffff;
  --text: #0d1117;
  --text-secondary: #424a51;
  --muted: #57606a;
  --accent: #0969da;
  --accent-light: #54aeff;
  --border: #d0d7de;
  --border-light: #eaeef2;
  --shadow: rgba(9, 47, 107, 0.08);
  --left-bg: #ffffff;
  --right-bg: #f6f8fb;
  --left-text: #0d1117;
  --right-text: #0d1117;
}

/* ============ BLUE THEME (refined) ============ */
body.theme-blue {
  --bg: linear-gradient(180deg, #dce7f7 0%, #eef5ff 100%);
  --card-bg: #e8f1ff;
  --text: #02284e;
  --text-secondary: #3d5a80;
  --muted: #5b7b99;
  --accent: #f1f1f1;
  --accent-light: #4b9fff;
  --border: #b3d9ff;
  --border-light: #d1e7f5;
  --shadow: rgba(11, 111, 191, 0.12);
  --left-bg: #1d5ba8;    /* professional blue left */
  --right-bg: #e3f0ff;   /* soft light blue right */
  --left-text: #ffffff;
  --right-text: #02284e;
}

/* ============ DARK THEME (with neon) ============ */
body.theme-dark {
  --bg: #0d1017;
  --card-bg: #161b22;
  --text: #e6edf3;
  --text-secondary: #8b949e;
  --muted: #6e7681;
  --accent: #58a6ff;           /* neon cyan-blue */
  --accent-light: #79c0ff;     /* brighter neon */
  --accent-glow: #0d47a1;      /* glow base */
  --border: #30363d;
  --border-light: rgba(255,255,255,0.06);
  --shadow: rgba(0, 0, 0, 0.5);
  --left-bg: #0d1117;
  --right-bg: #161b22;
  --left-text: #c9d1d9;
  --right-text: #e6edf3;
}

/* ============ BASE STYLES ============ */
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}

body {
  font-family: Inter, "Segoe UI", Arial, sans-serif;
  font-size: var(--base-font);
  color: var(--text);
  background: var(--bg);
  padding: 12px;
  transition: background var(--transition), color var(--transition);
}

.cv-outer {
  display: flex;
  justify-content: center;
  padding: 0;
  margin: 0;
}

.cv-wrapper {
  transform-origin: top center;
  transform: scale(var(--scale));
  transition: transform var(--transition);
}

/* ============ MAIN CONTAINER ============ */
.cv-container {
  width: 210mm;
  max-width: 100%;
  box-sizing: border-box;
  padding: var(--card-pad-vertical) var(--card-pad-horizontal);
  display: flex;
  gap: 8mm;
  background: var(--card-bg);
  border-radius: 6px;
  box-shadow: 0 6px 18px var(--shadow);
  border: 1px solid var(--border-light);
  page-break-inside: avoid;
  -webkit-page-break-inside: avoid;
  break-inside: avoid;
  transition: all var(--transition);
}

@page {
  size: A4;
  margin: 0;
}

/* ============ COLUMNS ============ */
.left-column {
  width: 34%;
  border-right: 1px solid var(--border);
  padding-right: 6mm;
  box-sizing: border-box;
  background: var(--left-bg);
  color: var(--left-text);
  padding: 10px;
  border-radius: 4px;
  transition: all var(--transition);
}

.right-column {
  width: 66%;
  padding-left: 6mm;
  box-sizing: border-box;
  background: var(--right-bg);
  color: var(--right-text);
  border-radius: 4px;
  transition: all var(--transition);
}

/* ============ PROFILE & HEADER ============ */
.profile-picture img {
  width: 100%;
  max-width: 96px;
  height: 96px;
  border-radius: 50%;
  object-fit: cover;
  display: block;
  margin: 4px auto 8px auto;
  border: 2px solid var(--accent-light);
  transition: transform var(--transition), box-shadow var(--transition), filter var(--transition);
  cursor: pointer;
}

@media (hover: hover) and (pointer: fine) {
  .profile-picture img:hover {
    transform: scale(1.08) rotate(-2deg);
    box-shadow: 0 8px 24px var(--shadow), 0 0 20px rgba(88, 166, 255, 0.3);
    filter: brightness(1.1);
  }
}

.header h1 {
  margin: 0;
  font-size: 14pt;
  letter-spacing: 1px;
  color: var(--text);
  transition: transform var(--transition);
}

.header h2 {
  margin: 0;
  font-size: 10.5pt;
  color: var(--muted);
  font-weight: 600;
}

@media (hover: hover) and (pointer: fine) {
  .header:hover h1 {
    transform: translateY(-2px);
  }
}

/* ============ TYPOGRAPHY ============ */
.section-title {
  font-size: 9.2pt;
  font-weight: 700;
  margin-top: 8px;
  text-transform: uppercase;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
  padding-bottom: 4px;
  color: var(--accent);
  transition: all var(--transition);
  letter-spacing: 0.5px;
}

@media (hover: hover) and (pointer: fine) {
  .section-title:hover {
    color: var(--accent-light);
    transform: translateX(4px);
    text-shadow: 0 0 10px rgba(88, 166, 255, 0.2);
  }
}

.education-item, .contact-info, .skills, .cert-list, .interests {
  font-size: 9pt;
  margin-bottom: 6px;
  line-height: 1.08;
  color: inherit;
  transition: color var(--transition);
}

/* ============ EXPERIENCE ============ */
.experience-item {
  margin-bottom: 8px;
  border-bottom: 1px dashed rgba(0, 0, 0, 0.06);
  padding: 6px;
  border-radius: 3px;
  transition: all var(--transition);
}

@media (hover: hover) and (pointer: fine) {
  .experience-item:hover {
    transform: translateY(-3px) translateX(2px);
    box-shadow: 0 12px 28px var(--shadow);
    background: linear-gradient(180deg, rgba(88, 166, 255, 0.04), rgba(88, 166, 255, 0.01));
    border-bottom-color: var(--accent-light);
  }
}

.experience-header {
	/* re-assert horizontal flex layout to prevent stacking */
	display: flex !important;
	flex-direction: row !important;
	justify-content: space-between !important;
	align-items: center !important;
	gap: 8px !important;
}

.experience-header .logo { order: 1; flex: 0 0 auto; margin-right:6px; }
.experience-header .duration { order: 2; flex: 1 1 auto; text-align: center; font-size: 9pt; color: var(--muted); }
.experience-header .ship-photo { order: 3; flex: 0 0 auto; margin-left:6px; }

/* ensure the three pieces stay in place and don't collapse vertically */
.logo, .ship-photo {
	width: 34px !important;
	height: 34px !important;
	object-fit: cover !important;
	border-radius: 4px !important;
	border: 1px solid var(--border) !important;
	transition: all var(--transition) !important;
}

/* ===== BUTTONS: restore full styles & layout ===== */
.download-buttons {
  display: flex;
  gap: 8px;
  justify-content: center;      /* keep centered at bottom */
  align-items: center;
  margin: 12px 0 18px 0;
  width: 100%;
  box-sizing: border-box;
}

/* base button visuals (consistent with CV font) */
button, .theme-button {
  font-family: inherit;
  font-size: 9pt;
  padding: 7px 12px;
  margin: 4px;
  border-radius: 6px;
  border: 1px solid var(--border);
  background: transparent;
  color: inherit;
  cursor: pointer;
  transition: all var(--transition);
  box-sizing: border-box;
  min-height: 34px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* primary action */
button.primary {
  background: var(--accent);
  color: #fff;
  border-color: var(--accent);
}

/* theme toggles */
.theme-button.active {
  background: rgba(88, 166, 255, 0.10);
  box-shadow: inset 0 0 0 1px rgba(84, 174, 255, 0.12);
  transform: translateY(-1px);
}

/* hover affordances */
@media (hover: hover) and (pointer: fine) {
  button.primary:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(88,166,255,0.18); }
  .theme-button:hover:not(.active) { background: rgba(88,166,255,0.06); }
}

/* ===== SECTION TITLES & DARK MODE CONTRAST ===== */
/* Ensure section titles visible in all themes */
.section-title {
  color: var(--accent);
  border-bottom-color: var(--border-light);
  text-shadow: none;
}

/* stronger and readable in dark theme */
body.theme-dark .section-title {
  color: var(--accent-light);                 /* brighter blue */
  border-bottom-color: rgba(255,255,255,0.06);/* subtle light divider */
  text-shadow: 0 1px 0 rgba(0,0,0,0.35);      /* slight lift for contrast */
}

/* Experience company text remains legible */
.experience-item .company { color: var(--muted); }

/* ===== CAREER GOAL: typography + contrast parity with experience items ===== */
/* target the injected career block (.section-title + div) */
.right-column .section-title + div {
  font-family: inherit !important;
  font-size: 9pt !important;
  line-height: 1.06 !important;
  color: var(--right-text) !important;
  margin: 8px 0 !important;
  padding: 6px !important;
  border-radius: 3px !important;
  border-bottom: 1px dashed rgba(0,0,0,0.06);
  background: transparent;
  transition: all var(--transition);
  box-sizing: border-box;
}

/* ensure inner text uses same font, weight and color (override inline grey) */
.right-column .section-title + div b,
.right-column .section-title + div strong {
  font-weight: 700;
  color: var(--right-text);
  font-family: inherit;
}

.right-column .section-title + div span,
.right-column .section-title + div p,
.right-column .section-title + div div {
  color: var(--right-text);           /* readable in dark & light */
  font-family: inherit;
  font-size: 9pt;
  line-height: 1.06;
}

/* subtle hover identical to experience items */
@media (hover: hover) and (pointer: fine) {
  .right-column .section-title + div:hover {
    transform: translateY(-3px) translateX(2px);
    box-shadow: 0 12px 28px var(--shadow);
    background: linear-gradient(180deg, rgba(88,166,255,0.02), rgba(88,166,255,0.005));
    border-bottom-color: var(--accent-light);
  }
}

/* Ensure career logo behaves like other logos */
.right-column .section-title + div img {
  width: 34px !important;
  height: 34px !important;
  object-fit: cover !important;
  border-radius: 4px !important;
  border: 1px solid var(--border) !important;
  transition: all var(--transition) !important;
}

/* dark-mode tweak specifically for career goal readability */
body.theme-dark .right-column .section-title + div,
body.theme-dark .right-column .section-title + div span {
  color: var(--right-text) !important;
  text-shadow: none;
}

/* ============ QR SECTION ============ */
/* replaced/extended to align left and improve balance */
.qr-section {
  display: flex;
  justify-content: flex-start;   /* align left with other left-column text */
  align-items: center;           /* keep vertical balance with nearby lines */
  margin-top: 8px;
  padding-left: 10px;            /* required left offset */
}

/* keep same QR box look but slightly smaller for balance */
.qr-box {
  text-align: center;
  cursor: pointer;
  transition: all var(--transition);
  margin-right: 6px;
}

.qr-box img {
  width: 64px;                   /* reduced size for better fit */
  height: 64px;
  border-radius: 6px;
  border: 2px solid var(--accent-light);
  transition: all var(--transition);
  display: block;
  margin: 0 8px 0 0;             /* small right margin so text reads beside/after */
  object-fit: contain;
}

@media (hover: hover) and (pointer: fine) {
  .qr-box:hover img {
    transform: scale(1.14) rotate(-3deg);
    box-shadow: 0 10px 28px var(--shadow), 0 0 24px rgba(88, 166, 255, 0.4);
    filter: brightness(1.08) contrast(1.03);
  }
}

.qr-box div {
  font-size: 8pt;
  color: var(--muted);
  font-weight: 500;
  margin-left: 2px;
}

/* ===== QR alignment sanity (left aligned, balanced spacing) ===== */
.left-column .qr-section { justify-content: flex-start; padding-left: 10px; margin-top: 8px; }
.left-column .qr-box { display:flex; align-items:center; gap:8px; }

/* small corrective: ensure download-buttons container doesn't get pushed left */
@media (min-width: 721px) {
  .download-buttons { position: relative; bottom: 0; left: 0; }
}

/* small screens â€” keep buttons centered and usable */
@media (max-width: 720px) {
  .download-buttons { justify-content: center; padding: 8px 0; }
  button, .theme-button { min-width: 44px; padding: 8px 10px; }
}

/* ============ PRINT RULES (CRITICAL FIX) ============ */
@media print {
  html, body {
    height: auto;
    margin: 0 !important;
    padding: 0 !important;
    background: var(--bg) !important;
    overflow: visible;
  }

  .cv-outer {
    margin: 0 !important;
    padding: 0 !important;
    display: block;
  }

  .cv-wrapper {
    transform: scale(var(--scale)) !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  .download-buttons {
    display: none !important;
  }

  .cv-container {
    box-shadow: none !important;
    border: none !important;
    padding: 10mm !important;
    margin: 0 !important;
    page-break-after: avoid;
  }

  .left-column, .right-column, .experience-item {
    page-break-inside: avoid;
    -webkit-page-break-inside: avoid;
    break-inside: avoid;
  }

  /* Dark mode print: preserve background */
  body.theme-dark {
    background: var(--bg) !important;
  }

  body.theme-dark .cv-container {
    background: var(--card-bg) !important;
  }

  body.theme-dark .left-column {
    background: var(--left-bg) !important;
  }

  body.theme-dark .right-column {
    background: var(--right-bg) !important;
  }
}

/* Prevent extra space below document */
body::after {
  content: '';
  display: block;
  height: 0;
}

/* Hide CV content when modal is shown */
#passwordModal.active ~ .cv-outer,
#passwordModal.active ~ .download-buttons {
  display: none;
}
</style>
</head>
<body class="theme-default">

<!-- Password protection modal -->
<div id="passwordModal" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:9999;display:flex;align-items:center;justify-content:center;">
  <div style="background:#fff;padding:40px;border-radius:8px;text-align:center;box-shadow:0 10px 40px rgba(0,0,0,0.3);max-width:400px;">
    <h2 style="margin-top:0;color:#0d1117;">ðŸ”’ Password Protected</h2>
    <p style="color:#666;margin:16px 0;">This CV is password protected. Please enter the password to continue.</p>
    <input type="password" id="pwInput" placeholder="Enter password" style="width:100%;padding:12px;border:1px solid #d0d7de;border-radius:6px;font-size:14px;box-sizing:border-box;margin-bottom:16px;">
    <button onclick="checkPassword()" style="width:100%;padding:12px;background:#0969da;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:600;">Unlock</button>
    <p id="pwError" style="color:#d1242f;font-size:12px;margin-top:12px;display:none;">Incorrect password. Please try again.</p>
  </div>
</div>

<!-- Greeting popup for company personalization -->
<div id="greetingModal" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:9998;display:none;align-items:center;justify-content:center;">
  <div style="background:#fff;padding:40px;border-radius:8px;text-align:center;box-shadow:0 10px 40px rgba(0,0,0,0.3);max-width:450px;">
    <img id="greetingLogo" src="" alt="Company Logo" style="width:80px;height:80px;object-fit:contain;margin:0 auto 16px;display:block;">
    <h2 id="greetingTitle" style="margin-top:0;color:#0d1117;"></h2>
    <p id="greetingText" style="color:#666;margin:16px 0;font-size:14px;"></p>
    <button onclick="closeGreeting()" style="padding:12px 24px;background:#0969da;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:600;">Continue</button>
  </div>
</div>

<script>
// Password protection for mycv.html
(function(){
  const CORRECT_PASSWORD = 'IMRICH';
  const SESSION_KEY = 'mycv_unlocked';

  function checkPassword(){
    const input = document.getElementById('pwInput').value;
    const errorMsg = document.getElementById('pwError');
    const modal = document.getElementById('passwordModal');
    
    if(input === CORRECT_PASSWORD){
      sessionStorage.setItem(SESSION_KEY, 'true');
      modal.classList.remove('active');
      modal.style.display = 'none';
      errorMsg.style.display = 'none';
    } else {
      errorMsg.style.display = 'block';
      document.getElementById('pwInput').value = '';
    }
  }

  document.addEventListener('DOMContentLoaded', function(){
    const pwInput = document.getElementById('pwInput');
    const modal = document.getElementById('passwordModal');
    
    if(pwInput){
      pwInput.addEventListener('keypress', function(e){
        if(e.key === 'Enter') checkPassword();
      });
    }

    if(sessionStorage.getItem(SESSION_KEY)){
      modal.classList.remove('active');
      modal.style.display = 'none';
      if(pwInput) pwInput.blur();
    } else {
      modal.classList.add('active');
      modal.style.display = 'flex';
      if(pwInput) pwInput.focus();
    }
  });

  window.checkPassword = checkPassword;
})();

// Company personalization and greeting popup
window.closeGreeting = function(){
  const modal = document.getElementById('greetingModal');
  modal.style.display = 'none';
};

function getQueryParam(param) {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(param);
}

function initializeCV(COMPANY_MAP) {
    try {
        const companyId = getQueryParam('id');
        
        // 1. Gerekli DOM elemanlarÄ±nÄ±n varlÄ±ÄŸÄ±nÄ± kontrol et
        const modal = document.getElementById('greetingModal');
        const logoEl = document.getElementById('greetingLogo');
        const titleEl = document.getElementById('greetingTitle');
        const textEl = document.getElementById('greetingText');
        
        // EÄŸer modal veya temel elemanlardan biri yoksa, devam etme (Hata Ã–nleme)
        if (!modal || !logoEl || !titleEl || !textEl) {
            console.error('Error: Required DOM elements (greetingModal, greetingLogo, etc.) not found.');
            // EÄŸer URL'de ID yoksa, bu durum normaldir (link oluÅŸturma modu)
            if (!companyId) return; 
            // EÄŸer ID varsa ama elementler yoksa, bu bir kurulum hatasÄ±dÄ±r.
            return;
        }

        // 2. Åžirket ID ve Harita KontrolÃ¼ (Link OluÅŸturma Modu)
        if (!companyId || !COMPANY_MAP || !COMPANY_MAP[companyId]) {
            console.warn('Company ID not found or invalid. Showing link creation interface.');
            // EÄŸer link oluÅŸturma arayÃ¼zÃ¼nÃ¼z varsa burada onu gÃ¶sterin (inputModal gibi)
            // Ã–rn: document.getElementById('inputModal').style.display = 'flex';
            return;
        }

        const company = COMPANY_MAP[companyId];

        // 3. Modal Ä°Ã§eriÄŸi (RolÃ¼nÃ¼ze Ã¶zel metin ve HTML kalÄ±nlaÅŸtÄ±rma)
        titleEl.textContent = `Welcome, This CV is Exclusively Prepared for ${company.name}!`;

        // Ä°Ã§erik iÃ§in innerHTML kullanÄ±yoruz
        textEl.innerHTML = `
            <p style="margin-bottom: 10px;">
                Thank you for taking the time to review this application. You are viewing a <strong>focused version</strong> of my CV, which has been specifically <strong>tailored to highlight</strong> how my experience as an <strong>Oceangoing Watchkeeping Officer</strong> directly aligns with <strong>${company.name}'s</strong> operational and strategic goals in maritime transportation. 
            </p>
            <p>
                I am eager to contribute my skills in safe navigation and efficient cargo operations, and look forward to discussing how I can add value to your team.
            </p>
        `;

        // 4. Logo ve GÃ¶rÃ¼nÃ¼rlÃ¼k
        if (company.logo) {
            logoEl.src = company.logo;
            logoEl.alt = `${company.name} Logo`;
        } else {
            // Logo yoksa varsayÄ±lanÄ± kullan
            logoEl.src = 'img/default-logo.png';
            logoEl.alt = 'Default Company Logo';
        }

        // Display modal
        modal.style.display = 'flex';
        modal.classList.add('active');

        // 5. Kapanma Ä°ÅŸleyicisi
        const closeModal = (e) => {
            // Modal iÃ§indeki iÃ§eriÄŸe veya butona tÄ±klamayÄ± engelle (sadece dÄ±ÅŸarÄ±ya tÄ±kla)
            if (e.target === modal || e.key === 'Escape') {
                modal.style.display = 'none';
                modal.classList.remove('active');
                // Ä°ÅŸleyiciyi kaldÄ±r
                document.removeEventListener('keydown', closeModal);
                modal.removeEventListener('click', closeModal);
            }
        };
        // Olay dinleyicilerini ekle (sadece bir kez)
        document.addEventListener('keydown', closeModal);
        modal.addEventListener('click', closeModal);

        // 6. Kariyer Hedefi BÃ¶lÃ¼mÃ¼nÃ¼ Enjekte Et
        // addCareerGoalSection'un daha Ã¶nce tanÄ±mlandÄ±ÄŸÄ±nÄ± varsayÄ±yoruz.
        addCareerGoalSection(company);

    } catch (err) {
        console.error('Error initializing CV (Fatal):', err);
    }
}

function addCareerGoalSection(company) {
  const profileSection = document.querySelector('.section-title');
  if (!profileSection) return;
  
  const rightColumn = document.querySelector('.right-column');
  const profileP = rightColumn.querySelector('p[style*="justify"]');
  
  if (profileP) {
    const careerSection = document.createElement('div');
    careerSection.style.marginTop = '10px';
    careerSection.innerHTML = `
      <div class="section-title">Career Goal</div>
      <div style="display:flex;gap:10px;align-items:center;font-size:10pt;margin-bottom:8px;">
        <img src="${company.logo}" alt="${company.name}" style="width:40px;height:40px;object-fit:contain;border-radius:4px;border:1px solid var(--border);">
        <div>
          <b>Target Company:</b> ${company.name}<br>
          <span style="color:var(--muted);font-size:9pt;">I am committed to leveraging my current OOW competencies to benefit your operations while actively seeking the professional development necessary to become a superior officer within this company.</span>
        </div>
      </div>
    `;
    profileP.parentNode.insertBefore(careerSection, profileP.nextSibling);
  }
}

/* Updated script: reliable theme buttons + fitToA4 + copyPhone (preserves all behavior) */
(function(){
  // helpers kept (mmToPx and fitToA4 defined below)
  function mmToPx(mm){
    const el = document.createElement('div');
    el.style.height = mm + 'mm';
    el.style.position = 'absolute';
    el.style.left = '-9999px';
    document.body.appendChild(el);
    const px = el.getBoundingClientRect().height;
    document.body.removeChild(el);
    return px;
  }

  function fitToA4(){
    const wrap = document.getElementById('cvWrap');
    const cv = document.getElementById('cv');
    if(!wrap || !cv) return;
    const targetPx = mmToPx(297) - mmToPx(20);
    wrap.style.transform = 'none';
    const actual = cv.getBoundingClientRect().height;
    let scale = 1;
    if(actual > targetPx){
      scale = targetPx / actual;
      scale = Math.max(scale, 0.60);
    }
    document.documentElement.style.setProperty('--scale', scale);
    wrap.style.transform = 'scale(' + scale + ')';
  }

  // copyPhone preserved
  window.copyPhone = function(event, number){
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    if(!isMobile){
      event.preventDefault();
      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(number).then(() => {
          const prev = document.getElementById('copynotice'); if(prev) prev.remove();
          const n = document.createElement('div');
          n.id = 'copynotice';
          n.textContent = 'Phone number copied to clipboard';
          Object.assign(n.style,{position:'fixed',right:'16px',bottom:'16px',background:'rgba(0,0,0,0.7)',color:'#fff',padding:'8px 12px',borderRadius:'6px',zIndex:9999});
          document.body.appendChild(n);
          setTimeout(()=> n.remove(), 2200);
        }).catch(err => console.error('Failed to copy phone:', err));
      } else {
        alert('Phone number: ' + number);
      }
    }
  };

  // Theme wiring on DOM ready
  document.addEventListener('DOMContentLoaded', function(){
    const THEMES = ['theme-default','theme-blue','theme-dark'];
    const themeButtons = Array.from(document.querySelectorAll('.theme-button'));

    function applyTheme(theme){
      if(!THEMES.includes(theme)) theme = 'theme-default';
      document.body.classList.remove(...THEMES);
      document.body.classList.add(theme);
      try{ localStorage.setItem('cv_theme', theme); } catch(e){}
      themeButtons.forEach(b => b.classList.toggle('active', b.dataset.theme === theme));
    }

    // init
    const saved = (function(){ try{return localStorage.getItem('cv_theme');}catch(e){return null;} })() || 'theme-default';
    applyTheme(saved);

    // attach
    themeButtons.forEach(btn => {
      btn.addEventListener('click', function(e){
        const t = this.dataset.theme || 'theme-default';
        applyTheme(t);
        setTimeout(fitToA4, 60);
      });
    });

    // initial fit
    setTimeout(fitToA4, 80);

    // bind global events
    window.addEventListener('resize', () => setTimeout(fitToA4, 120));
    window.addEventListener('beforeprint', () => setTimeout(fitToA4, 40));
    window.addEventListener('keydown', (e) => {
      if(e.altKey && !e.shiftKey){
        if(e.key === '1') applyTheme('theme-default');
        if(e.key === '2') applyTheme('theme-blue');
        if(e.key === '3') applyTheme('theme-dark');
        setTimeout(fitToA4, 60);
      }
    });
  });
})();

// Fetch companies.json and initialize
document.addEventListener('DOMContentLoaded', function(){
  fetch('../companies.json')
    .then(response => response.json())
    .then(data => {
      initializeCV(data);
    })
    .catch(err => {
      console.warn('Could not load companies.json:', err);
    });
});
</script>

<!-- wrap to enable scaling to fit A4 height -->
<div class="cv-outer">
  <div class="cv-wrapper" id="cvWrap">
    <div class="cv-container" id="cv">
      <div class="left-column">
        <div class="profile-picture">
          <img src="../img/burakde.jpg" alt="Burak Demirci">
        </div>
        <div class="section-title">Contact</div>
        <div class="contact-info">
          <b>Email:</b> <a href="mailto:burak_de@yahoo.com">burak_de@yahoo.com</a><br>
          <b>Position:</b> Oceangoing Watchkeeping Officer<br>
          <b>Nationality:</b> Turkish<br>
          <b>DOB:</b> 09/11/2000<br>
          <b>Phone:</b> 
          <a href="tel:+905353450911" 
             onclick="copyPhone(event, '+90 (535) 345 09 11')">
            +90 (535) 345 09 11
          </a><br>
          <b>Marital Status:</b> Single<br>
          <b>Military Service:</b> Completed<br>
          <b>Adress:</b> Umraniye/ISTANBUL
        </div>

        <div class="section-title">Education</div>
        <div class="education-item">
          <b>Karadeniz Technical University</b><br>
          B.Sc. in Maritime Transportation & Management Eng.<br>
          2019â€“2023 | GPA: 3.50/4.00
        </div>
        <div class="education-item">
          <b>Istanbul Uskudar High School</b><br>
          High School Diploma | 2014â€“2018
        </div>

        <div class="section-title">Skills</div>
        <div class="skills">
          Bridge Team Management<br>
          Ship Handling & Navigation<br>
          Cargo & Ballast Operations<br>
          LSA/FFE Maintenance<br>
          Risk Assessment & Safety Audits<br>
          TRANSAS NS4000 ECDIS<br>
          GMDSS GOC, ARPA Radar Ops<br>
          Data Analysis, Handling, Automation (Python, SQL, Excel, VBA)<br>
          Passage Planning & Audit Preparation & SIRE Preparation
        </div>

        <div class="section-title">Certifications</div>
        <div class="cert-list" style="font-size: 0.9em; line-height: 1.3;">
          Security Familiarization â€¢ Security Awareness â€¢ Designated Security Duties â€¢ Advanced Fire Fighting â€¢ Fire Prevention & Fighting â€¢ Navigational Watchkeeping â€¢ Advanced Chemical Tanker Ops â€¢ Advanced Oil Tanker Ops â€¢ Basic Oil & Chemical Tanker Ops â€¢ Basic Liquefied Gas Tanker Ops â€¢ Medical Care â€¢ First Aid â€¢ Elementary First Aid â€¢ Fast Rescue Boats â€¢ Survival Craft & Rescue Boats â€¢ Personal Survival Techniques â€¢ Personal Safety & Social Responsibility
        </div>
        

        <div class="section-title">Languages</div>
        <div>English â€“ Professional Working Proficiency</div>

        <div class="section-title">Interests</div>
        <div class="interests">
          Maritime Safety<br>
          Navigation Systems<br>
          Data Science in Shipping<br>
          Cyber Security<br>
          Operational Leadership
        </div>

        <div class="qr-section">
          <div class="qr-box">
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=75x75&data=https://gemiadami.uab.gov.tr/verification/67384263278/dsadad">
            <div>Seafarer Verification</div>
          </div>
        </div>
      </div>

      <div class="right-column">
        <div class="header">
          <h1>BURAK DEMIRCI</h1>
          <h2>OCEANGOING WATCHKEEPING OFFICER</h2>
        </div>

        <div class="section-title">Profile</div>
        <p style="font-size:10pt;text-align:justify;">
          An oceangoing Watchkeeping Officer 3-year experienced in tanker operations, navigation, and safety management on Aframax, LR, MR, and chemical/oil vessels. Participated numerous (300+) cargo operations and numerous flag state inspections, terminal vettings, and OCIMF SIRE 2.0. Competent in ECDIS (TRANSAS NS4000), Marflex / Framo Deepwell and Steam-turbined centrifugal pumps (Shinko), ballast treatment systems (AlfaLaval PureBallast), and LSA/FSS/ISM/ISPS Codes implementation. Focused on maintaining safety, environmental compliance, and operational efficiency under pressure. Skilled in coordinating with masters and chief officers, and implementing operational best practices.
        </p>

        <div class="section-title">Experience</div>

        <div class="experience-item">
          <div class="experience-header">
            <img src="../img/okanogullari.png" class="logo">
            <div class="duration" style="font-size:9pt;">Sep 2023 â€“ Oct 2025</div>
            <img src="../img/sebahatana.jpg" class="ship-photo">
          </div>
          <div class="company">Cilicia / OkanogullarÄ± Shipping â€“ M/T SEBAHAT ANA (8672.9 DWT)</div>
          <div class="title">Second Officer</div>
          <ul>
            <li>Bridge watchkeeping, navigation, and COLREG compliance.</li>
            <li>Numerous and various cargo operations, mooring (CBM, SBM).</li>
            <li>Maintained safety equipment, LSA/FFE.</li>
            <li>Participated in SIRE 2.0, Flag state, and Terminal Vettings inspections with positive outcomes.</li>
            <li>Prepared passage plans, risk assessments, and safety drills.</li>
            <li>Coordinated with masters and chief officers. ETC.</li>
          </ul>
        </div>

        <div class="experience-item">
          <div class="experience-header">
            <img src="../img/imza_marine_a_s_logo.jpg" class="logo">
            <div class="duration" style="font-size:9pt;">Mar 2022 â€“ Oct 2022</div>
            <img src="../img/bluminosa.jpg" class="ship-photo">
          </div>
          <div class="company">Imza Marine â€“ M/T B LUMINOSA (68,439 DWT)</div>
          <div class="title">Deck Cadet</div>
          <ul>
            <li>Assisted in shipboard operations including cargo and ballast control.</li>
            <li>Maintained safety and firefighting systems in compliance with SOLAS.</li>
            <li>Participated in mooring/unmooring operations under supervision.</li>
            <li>Recorded navigational and safety logs accurately during watch.</li>
            <li>Gained experience in STS operations and port maneuvers.</li>
          </ul>
        </div>

        <div class="experience-item">
          <div class="experience-header">
            <img src="../img/imza_marine_a_s_logo.jpg" class="logo">
            <div class="duration" style="font-size:9pt;">Jul 2021 â€“ Sep 2021</div>
            <img src="../img/coatlicue.jpg" class="ship-photo">
          </div>
          <div class="company">Imza Marine â€“ M/T COATLICUE (105,322 DWT)</div>
          <div class="title">Deck Cadet</div>
          <ul>
            <li>Assisted with crude oil washing, stripping, and pump-room checks.</li>
            <li>Performed navigational duties.</li>
            <li>Participated in onboard safety and emergency drills.</li>
            <li>Improved practical skills in cargo handling systems and operational safety.</li>
          </ul>
        </div>

        <div class="experience-item">
          <div class="experience-header">
            <img src="../img/aurora_shipping_llc_logo.jpg" class="logo">
            <div class="duration" style="font-size:9pt;">Jul 2020 â€“ Sep 2020</div>
            <img src="../img/trinity.jpg" class="ship-photo">
          </div>
          <div class="company">Aurora Shipping â€“ M/T TRIDENT TRINITY (45,467 DWT)</div>
          <div class="title">Deck Cadet</div>
          <ul>
            <li>Bridge watchkeeping and CCR Assisting</li>
            <li>Inerting, gas freeing, and ship-to-ship (STS) operations.</li>
            <li>Performed daily safety rounds and assisted with drills.</li>
            <li>Enhanced knowledge of Oil Product Tanker operations and safety compliance.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="download-buttons">
  <button class="primary" onclick="window.print()">Download as PDF</button>

  <!-- Theme selector -->
  <div style="display:flex;gap:6px;align-items:center;">
    <button class="theme-button" data-theme="theme-default" title="Light / Default">Light</button>
    <button class="theme-button" data-theme="theme-blue" title="Blue tone">Blue</button>
    <button class="theme-button" data-theme="theme-dark" title="Dark">Dark</button>
  </div>
</div>

<script>
/* Updated script: reliable theme buttons + fitToA4 + copyPhone (preserves all behavior) */
(function(){
  // helpers kept (mmToPx and fitToA4 defined below)
  function mmToPx(mm){
    const el = document.createElement('div');
    el.style.height = mm + 'mm';
    el.style.position = 'absolute';
    el.style.left = '-9999px';
    document.body.appendChild(el);
    const px = el.getBoundingClientRect().height;
    document.body.removeChild(el);
    return px;
  }

  function fitToA4(){
    const wrap = document.getElementById('cvWrap');
    const cv = document.getElementById('cv');
    if(!wrap || !cv) return;
    const targetPx = mmToPx(297) - mmToPx(20);
    wrap.style.transform = 'none';
    const actual = cv.getBoundingClientRect().height;
    let scale = 1;
    if(actual > targetPx){
      scale = targetPx / actual;
      scale = Math.max(scale, 0.60);
    }
    document.documentElement.style.setProperty('--scale', scale);
    wrap.style.transform = 'scale(' + scale + ')';
  }

  // copyPhone preserved
  window.copyPhone = function(event, number){
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    if(!isMobile){
      event.preventDefault();
      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(number).then(() => {
          const prev = document.getElementById('copynotice'); if(prev) prev.remove();
          const n = document.createElement('div');
          n.id = 'copynotice';
          n.textContent = 'Phone number copied to clipboard';
          Object.assign(n.style,{position:'fixed',right:'16px',bottom:'16px',background:'rgba(0,0,0,0.7)',color:'#fff',padding:'8px 12px',borderRadius:'6px',zIndex:9999});
          document.body.appendChild(n);
          setTimeout(()=> n.remove(), 2200);
        }).catch(err => console.error('Failed to copy phone:', err));
      } else {
        alert('Phone number: ' + number);
      }
    }
  };

  // Theme wiring on DOM ready
  document.addEventListener('DOMContentLoaded', function(){
    const THEMES = ['theme-default','theme-blue','theme-dark'];
    const themeButtons = Array.from(document.querySelectorAll('.theme-button'));

    function applyTheme(theme){
      if(!THEMES.includes(theme)) theme = 'theme-default';
      document.body.classList.remove(...THEMES);
      document.body.classList.add(theme);
      try{ localStorage.setItem('cv_theme', theme); } catch(e){}
      themeButtons.forEach(b => b.classList.toggle('active', b.dataset.theme === theme));
    }

    // init
    const saved = (function(){ try{return localStorage.getItem('cv_theme');}catch(e){return null;} })() || 'theme-default';
    applyTheme(saved);

    // attach
    themeButtons.forEach(btn => {
      btn.addEventListener('click', function(e){
        const t = this.dataset.theme || 'theme-default';
        applyTheme(t);
        setTimeout(fitToA4, 60);
      });
    });

    // initial fit
    setTimeout(fitToA4, 80);

    // bind global events
    window.addEventListener('resize', () => setTimeout(fitToA4, 120));
    window.addEventListener('beforeprint', () => setTimeout(fitToA4, 40));
    window.addEventListener('keydown', (e) => {
      if(e.altKey && !e.shiftKey){
        if(e.key === '1') applyTheme('theme-default');
        if(e.key === '2') applyTheme('theme-blue');
        if(e.key === '3') applyTheme('theme-dark');
        setTimeout(fitToA4, 60);
      }
    });
  });
})();
</script>

</body>
</html>

